<!DOCTYPE html>
<html>
<head>
    <title>Mileage Calculator</title>
	<link rel="stylesheet" href="style.css"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: black;
            color: white;
            margin: 20px;
            display: flex;
            flex-direction: column;
            align-items: center; /* Center horizontally */
        }
        h1 {
            color: #f8ba17;
            text-align: center;
        }
        label, input, button {
            display: block;
            margin: 10px auto;
            width: 80%;
            max-width: 400px;
        }
        input, button {
            padding: 10px;
            border: 1px solid #333;
            background-color: #222;
            color: white;
            font-family: 'Poppins', sans-serif;
        }
        button {
            background-color: #f8ba17;
            color: black;
            cursor: pointer;
            font-weight: 700;
        }
        #data-table {
            border-collapse: collapse;
            width: 80%;
            margin: 20px auto;
            border: 2px solid #f8ba17;
        }
        #data-table th, #data-table td {
            border: 1px solid #333;
            padding: 10px;
            text-align: left;
        }
        #data-table th {
            background-color: #333;
            color: #f8ba17;
            font-weight: 700;
        }
        #result {
            text-align: center;
            margin-top: 20px;
            font-weight: bold;
            color: #f8ba17;
        }
    </style>
</head>
<body>
    <h1>Mileage Calculator</h1>

    <label for="missingDate">Purchase Date (YYYY-MM-DD):</label>
    <input type="text" id="missingDate">

    <button onclick="addRow()">Add Date & Mileage</button>

    <table id="data-table">
        <thead>
            <tr>
                <th>Date (YYYY-MM-DD)</th>
                <th>Mileage</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <button onclick="calculateMileage()">Calculate Missing Mileage</button>
    <p id="result"></p>

    <script>
        function addRow() {
            let table = document.getElementById("data-table").getElementsByTagName('tbody')[0];
            let newRow = table.insertRow(table.rows.length);
            let cell1 = newRow.insertCell(0);
            let cell2 = newRow.insertCell(1);
            cell1.innerHTML = '<input type="text" class="date-input">';
            cell2.innerHTML = '<input type="number" class="mileage-input">';
        }

        function calculateMileage() {
            let missingDateStr = document.getElementById("missingDate").value;
            let table = document.getElementById("data-table").getElementsByTagName('tbody')[0];
            let mileageData =;

            for (let i = 0; i < table.rows.length; i++) {
                let dateStr = table.rows[i].cells[0].querySelector('.date-input').value;
                let mileage = parseInt(table.rows[i].cells[1].querySelector('.mileage-input').value);
                if (dateStr && !isNaN(mileage)) {
                    mileageData.push({ date: new Date(dateStr), mileage: mileage });
                }
            }

            mileageData.sort((a, b) => a.date - b.date);

            let missingDate = new Date(missingDateStr);

            let previousDate = null;
            let nextDate = null;

            for (let i = 0; i < mileageData.length; i++) {
                if (mileageData[i].date > missingDate) {
                    nextDate = mileageData[i];
                    if (i > 0) {
                        previousDate = mileageData[i - 1];
                    }
                    break;
                }
            }

            if (!previousDate || !nextDate) {
                document.getElementById("result").textContent = "Insufficient data to calculate missing mileage.";
                return;
            }

            let daysBetween = (nextDate.date - previousDate.date) / (1000 * 60 * 60 * 24);
            let mileageDifference = nextDate.mileage - previousDate.mileage;
            let averageDailyMileage = mileageDifference / daysBetween;
            let daysToMissing = (missingDate - previousDate.date) / (1000 * 60 * 60 * 24);
            let estimatedMileage = previousDate.mileage + (averageDailyMileage * daysToMissing);

            document.getElementById("result").textContent = "Estimated mileage: " + Math.round(estimatedMileage);
        }
    </script>
</body>
</html>